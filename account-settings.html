<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#4f46e5">
    <title>账户设置</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="mobile-optimizations.css">
    <link rel="stylesheet" href="theme.css">
    <style>
        body {
            background-color: #f5f7fa;
            font-family: 'PingFang SC', 'Helvetica Neue', Arial, sans-serif;
        }
        
        .top-bar {
            background: linear-gradient(135deg, #4f46e5 0%, #6366f1 100%);
            padding-top: env(safe-area-inset-top);
            padding-bottom: 12px;
        }
        
        .nav-button {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            cursor: pointer;
        }
        
        .avatar-container {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: #6366f1;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 32px;
            position: relative;
            margin: 0 auto;
            overflow: hidden;
        }
        
        .avatar-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }
        
        .edit-avatar {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background-color: white;
            color: #4f46e5;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .setting-item {
            border-radius: 12px;
            transition: all 0.3s ease;
        }
        
        .setting-item:active {
            background-color: #f3f4f6;
        }
        
        .arrow-icon {
            color: #d1d5db;
        }
        
        .submit-button {
            border-radius: 24px;
            background-color: #4f46e5;
            color: white;
            font-weight: 500;
            min-height: 48px;
            box-shadow: 0 4px 6px -1px rgba(79, 70, 229, 0.2);
        }
        
        .submit-button:active {
            transform: scale(0.98);
        }
        
        
        
    </style>
</head>
<body class="page-transition">
    <!-- Toast消息提示容器 -->
    <div class="toast-container">
        <div class="toast-message" id="toastMessage"></div>
    </div>

    <!-- 加载指示器 -->
    <div class="loading-container" id="loadingIndicator">
        <div class="loading-spinner"></div>
    </div>

    <!-- 顶部状态栏 -->
    <div class="top-bar text-white p-4">
        <div class="flex items-center justify-between">
            <div class="flex items-center">
                <button onclick="history.back()" class="nav-button mr-3" role="button">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <div class="flex items-center">
                    <span class="text-lg font-medium">账户设置</span>
                </div>
            </div>
            <button class="nav-button" role="button">
                <i class="fas fa-ellipsis-h"></i>
            </button>
        </div>
    </div>
    
    <!-- 头像设置 -->
    <div class="bg-white p-6 mb-3">
                    <div class="avatar-container">
                <img src="tp/d5b6249d7d47b37ce1a7ffc886ade151.png" alt="用户头像" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">
                <div class="edit-avatar">
                    <i class="fas fa-camera"></i>
                </div>
            </div>
        <div class="text-center mt-3">
            <div class="font-medium text-gray-800">朱文斌</div>
            <div class="text-gray-500 text-sm mt-1">ID: f51b4056-8746-4b7b-9ed2-58080f329e21</div>
        </div>
    </div>
    
    <!-- 基本信息设置 -->
    <div class="bg-white rounded-xl mx-4 mb-4 overflow-hidden">
        <!-- 用户名 -->
        <div class="setting-item flex items-center p-4 border-b border-gray-100" role="button">
            <div class="text-gray-800 w-24">用户名</div>
            <div class="flex-1 text-gray-600">
                <input type="text" value="朱文斌" class="w-full bg-transparent outline-none">
            </div>
            <i class="fas fa-chevron-right arrow-icon"></i>
        </div>
        
        <!-- 手机号 -->
        <div class="setting-item flex items-center p-4 border-b border-gray-100" role="button">
            <div class="text-gray-800 w-24">手机号</div>
            <div class="flex-1 text-gray-600">
                <input type="text" value="138****1234" class="w-full bg-transparent outline-none" readonly>
            </div>
            <i class="fas fa-chevron-right arrow-icon"></i>
        </div>
        
        <!-- 电子邮箱 -->
        <div class="setting-item flex items-center p-4 border-b border-gray-100" role="button">
            <div class="text-gray-800 w-24">电子邮箱</div>
            <div class="flex-1 text-gray-600">
                <input type="text" placeholder="未设置" class="w-full bg-transparent outline-none">
            </div>
            <i class="fas fa-chevron-right arrow-icon"></i>
        </div>
        
        <!-- 收款方式 -->
        <div class="setting-item flex items-center p-4" role="button">
            <div class="text-gray-800 w-24">收款方式</div>
            <div class="flex-1 text-gray-600">
                <input type="text" placeholder="未设置" class="w-full bg-transparent outline-none" readonly>
            </div>
            <i class="fas fa-chevron-right arrow-icon"></i>
        </div>
    </div>
    
    <!-- 账户安全设置 -->
    <div class="bg-white rounded-xl mx-4 mb-4 overflow-hidden">
        <div class="p-3 bg-gray-50 text-gray-500 text-xs font-medium">
            账户安全
        </div>
        
        <!-- 实名认证 -->
        <div class="setting-item flex items-center p-4 border-b border-gray-100" role="button">
            <div class="text-gray-800 flex-1">实名认证</div>
            <div class="text-yellow-500 mr-2">未认证</div>
            <i class="fas fa-chevron-right arrow-icon"></i>
        </div>
        
        <!-- 登录密码 -->
        <div class="setting-item flex items-center p-4 border-b border-gray-100" role="button">
            <div class="text-gray-800 flex-1">登录密码</div>
            <div class="text-gray-400 mr-2">修改</div>
            <i class="fas fa-chevron-right arrow-icon"></i>
        </div>
        
        <!-- 支付密码 -->
        <div class="setting-item flex items-center p-4" role="button">
            <div class="text-gray-800 flex-1">支付密码</div>
            <div class="text-gray-400 mr-2">未设置</div>
            <i class="fas fa-chevron-right arrow-icon"></i>
        </div>
    </div>
    
    <!-- 其他设置 -->
    <div class="bg-white rounded-xl mx-4 mb-6 overflow-hidden">
        <div class="p-3 bg-gray-50 text-gray-500 text-xs font-medium">
            其他设置
        </div>
        
        <!-- 消息通知 -->
        <div class="setting-item flex items-center p-4 border-b border-gray-100">
            <div class="text-gray-800 flex-1">消息通知</div>
            <div class="relative">
                <input type="checkbox" id="notificationToggle" class="sr-only">
                <label for="notificationToggle" class="block w-10 h-6 rounded-full bg-gray-300 cursor-pointer transition"></label>
            </div>
        </div>
        
        <!-- 清除缓存 -->
        <div class="setting-item flex items-center p-4 border-b border-gray-100" role="button">
            <div class="text-gray-800 flex-1">清除缓存</div>
            <i class="fas fa-chevron-right arrow-icon"></i>
        </div>
        
        <!-- 关于我们 -->
        <div class="setting-item flex items-center p-4" role="button">
            <div class="text-gray-800 flex-1">关于我们</div>
            <div class="text-gray-400 mr-2">v1.0.0</div>
            <i class="fas fa-chevron-right arrow-icon"></i>
        </div>
        
    </div>
    
    <!-- 提交按钮 -->
    <div class="mx-4 mb-8">
        <button class="submit-button w-full py-3" role="button">
            保存修改
        </button>
    </div>
    
    <script src="mobile-interactions.js"></script>
    <script>
        // 页面加载时隐藏加载指示器
        document.addEventListener('DOMContentLoaded', function() {
            const loadingIndicator = document.getElementById('loadingIndicator');
            if (loadingIndicator) {
                loadingIndicator.style.display = 'none';
            }
        });
        
        // 通知开关样式
        const toggle = document.getElementById('notificationToggle');
        const toggleLabel = document.querySelector('label[for="notificationToggle"]');
        
        toggle.addEventListener('change', function() {
            if (this.checked) {
                toggleLabel.classList.add('bg-indigo-500');
                toggleLabel.classList.remove('bg-gray-300');
                // 显示开启成功提示
                window.showToast('消息通知已开启');
            } else {
                toggleLabel.classList.remove('bg-indigo-500');
                toggleLabel.classList.add('bg-gray-300');
                // 显示关闭成功提示
                window.showToast('消息通知已关闭');
            }
        });
        
        // 设置项点击效果
        const settingItems = document.querySelectorAll('.setting-item[role="button"]');
        settingItems.forEach(item => {
            item.addEventListener('click', function() {
                // 显示加载指示器
                window.showLoading();
                
                // 安全地获取标签文本，避免DOM元素不存在导致的错误
                const labelElement = this.querySelector('.text-gray-800');
                if (!labelElement) {
                    console.warn('找不到标签元素，跳过处理');
                    window.hideLoading();
                    return;
                }
                const label = labelElement.textContent;
                
                // 为每个设置项添加相应的点击处理
                switch (label) {
                    case '实名认证':
                        window.showToast('实名认证功能正在开发中，敬请期待！');
                        break;
                    case '登录密码':
                        window.showToast('正在跳转到安全中心...');
                        setTimeout(() => {
                            window.location.href = 'security-center.html';
                        }, 800);
                        return;
                    case '支付密码':
                        window.showToast('支付密码设置功能正在开发中，敬请期待！');
                        break;
                    case '清除缓存':
                        window.showToast('正在清除缓存...');
                        setTimeout(() => {
                            window.showToast('缓存已清除');
                        }, 800);
                        break;
                    case '关于我们':
                        window.showToast('正在加载版本信息...');
                        setTimeout(() => {
                            alert('文创推广平台 v1.0.0\n版权所有 © 2025');
                        }, 800);
                        break;
                    default:
                        // 默认处理
                        window.showToast(`${label}设置功能正在开发中，敬请期待！`);
                }
                
                // 隐藏加载指示器
                setTimeout(() => {
                    window.hideLoading();
                }, 800);
            });
        });
        
        // 保存修改按钮点击事件
        document.querySelector('.submit-button').addEventListener('click', function() {
            // 显示加载指示器
            window.showLoading();
            
            // 显示提示信息
            window.showToast('正在保存修改...');
            
            // 模拟保存延迟
            setTimeout(() => {
                window.hideLoading();
                window.showToast('保存成功！');
            }, 1000);
        });
        
    </script>
</body>
</html>